<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="css/BorderLayout.css" type="text/css" media="all">
<link rel="stylesheet" href="css/editor.css" type="text/css" media="all">
<link rel="stylesheet" href="css/Dialog.css" type="text/css" media="all">
<link rel="stylesheet" href="css/PopupMenu.css" type="text/css" media="all">
<link rel="stylesheet" href="css/Selector.css" type="text/css" media="all">


<script src="jq/jquery-1.8.2.js"></script>
<script src="js/Lang.js"></script>
<script src="js/Eclipse.js"></script>
<script src="js/Version.js"></script>

<script src="js/resource/Font.js"></script>
<script src="js/resource/Color.js"></script>
<script src="js/ui/Dialog.js"></script>
<script src="js/ui/PopupMenu.js"></script>
<script src="js/ui/Selector.js"></script>

<script src="js/Items.js"></script>
<script src="js/AreaSelect.js"></script>

<script src="js/Point.js"></script>
<script src="js/Coor.js"></script>
<script src="js/CoorDiag.js"></script>
<script src="js/Elem.js"></script>
<script src="js/Handle.js"></script>
<script src="js/items/Item.js"></script>
<script src="js/Action.js"></script>
<script src="js/items/Rectangle.js"></script>
<script src="js/Group.js"></script>
<script src="js/SelectGroup.js"></script>

<script src="js/RemoveAction.js"></script>
<script src="js/Actions.js"></script>

<script src="js/Canvas.js"></script>
<script src="js/Util.js"></script>
<script src="js/Drawer.js"></script>
<script src="js/DrawerSVG.js"></script>
<script src="js/store/Referer.js"></script>
<script src="js/store/Store.js"></script>
<script src="js/store/EditBuffer.js"></script>
<script src="js/MenuManager.js"></script>
<script src="js/debug/Debug.js"></script>


<script src="js/items/Class.js"></script>
<script src="js/items/Object.js"></script>
<script src="js/items/Note.js"></script>
<script src="js/items/CableAction.js"></script>
<script src="js/items/Cable.js"></script>
<script src="js/items/CableHandle.js"></script>
<script src="js/items/CableUtil.js"></script>
<script src="js/items/Disk.js"></script>
<script src="js/items/Marker.js"></script>


<script>
$(function(){
	function include(sel, url) {
		$.get(url,null,function(data){
			try {
				$(sel).append(data);
			} catch (e) {
				Eclipse.log("include-fail:"+url+":"+e);
			}
		},"html");
	}
	
	include("#menus","js/items/CableMenu.html");
	include("#menus","js/CanvasMenu.html");
	include("#menus","js/items/ItemMenu.html");
	include("#menus","js/SelectGroupMenu.html");
	
	include("#dialogs","js/CanvasDialog.html");
	include("#dialogs","js/ConfigDialog.html");
	include("#dialogs","js/items/CableDialog.html");
	include("#dialogs","js/items/ClassDialog.html");
	include("#dialogs","js/items/ObjectDialog.html");
	include("#dialogs","js/items/NoteDialog.html");
	include("#dialogs","js/items/DiskDialog.html");
	include("#dialogs","js/debug/DebugDialog.html");
	include("#dialogs","js/debug/SvgDialog.html");
});
</script>

<script>


$(function(){
	Eclipse.fireEvent("load");
	Eclipse.fireEvent("");
});
Eclipse.setContentUrl = function(url) {
	$.ajax({type:"GET", url:url, cache:false,
		success: function(xmlDoc){
			var data = xmlDoc.getElementById("umldraw-data").childNodes[0].nodeValue;
			Store.load(JSON.parse(data));
		},
		error: function(xreq,state,err){alert(err);},
		dataType: "xml"
	});
};
Eclipse.getContent = function() {
	return Canvas.toSVG();
};
Eclipse.startup = function() {
	Debug.disable();
};

</script>

</head>
<body>
	<div id="borderLayoutMain" class="BorderLayoutFrame">
		<div id="borderLayoutMainInner">
			<canvas id="canvas"></canvas>
		</div>
	</div>

	<div id="borderLayoutLeft" class="BorderLayoutFrame">
		<div id="debugActionGroup">
			<div class="ActionGroupHeader"><img class="OpenClose" src="img/pullup.png">Debug</div>
			<div class="ActionGroup" >
				<div></div>
				<span class="Action Small" data-value="load"><img src="img/led/folder.png"/></span>
				<span class="Action Small" data-value="save"><img src="img/led/save.png"/></span>
				<span class="Action Small" data-value="print"><img src="img/led/printer.png"/></span>
			</div>
		</div>
		<div>
			<div class="ActionGroupHeader"><img class="OpenClose" src="img/pullup.png">System</div>
			<div class="ActionGroup" >
				<div></div>
				<span class="Action Small" data-value="undo"><img src="img/led/undo.png"/></span>
				<span class="Action Small" data-value="redo"><img src="img/led/redo.png"/></span>
				<span class="Action Small" data-value="config"><img src="img/config.png"/></span>
			</div>
		</div>
		
		<div>
			<div class="ActionGroupHeader"><img class="OpenClose" src="img/pullup.png">-</div>
			<div class="ActionGroup" id="systemActionGroup">
				<div></div>
				<span class="Action Small" data-value="cursor"><img src="img/cursor.png"/></span>
				<span class="Action Small" data-value="remove"><img src="img/led/cross.png"/></span>
			</div>
		</div>
	
		<div>
			<div class="ActionGroupHeader"><img class="OpenClose" src="img/pullup.png">Class</div>
			<div class="ActionGroup" id="classActionGroup">
				<span class="Action" data-value="Class"><img src="img/Class.png"/></span>
				<span class="Action" data-value="Object"><img src="img/Object.png"/></span>
	
				<span>
					<span class="Action" data-value="Cable"
					><img id="cableImg" src="img/association/0.png"/></span
					><span class="PulldownButton" id="association" data-value="0" 
								data-img="#cableImg" data-opts="{corrent:{x:-40, y:0}}"
						><img id="cablePulldownMark" src="img/pulldown-mark.png" />
						<div class="PulldownMenu" id="popupMenu-association">
							<div class="MenuItem" data-value="0"><img src="img/association/0.png" /></div>
							<div class="MenuItem" data-value="1"><img src="img/association/1.png" /></div>
							<div class="MenuItem" data-value="2"><img src="img/association/2.png" /></div>
							<div class="MenuItem" data-value="3"><img src="img/association/3.png" /></div>
							<div class="MenuItem" data-value="4"><img src="img/association/4.png" /></div>
							<div class="MenuItem" data-value="5"><img src="img/association/5.png" /></div>
							<div class="MenuItem" data-value="6"><img src="img/association/6.png" /></div>
						</div>
					</span>
				</span>
			</div>
		</div>
		
		
		<div>
			<div class="ActionGroupHeader"><img class="OpenClose" src="img/pullup.png">Other</div>
			<div class="ActionGroup" id="otherActionGroup">
				<span class="Action" data-value="Note"><img src="img/Note.png"/></span>
				<span class="Action" data-value="Disk"><img src="img/Disk.png"/></span>
				<span class="Action" data-value="Marker"><img src="img/Marker.png" id="markerImg"/></span>
			</div>
		</div>
	</div>
<!--
	<div id="borderLayoutRight" class="BorderLayoutFrame">
		Right
	</div>

	<div id="borderLayoutHeader"  class="BorderLayoutFrame">
		Header
	</div>

	<div id="borderLayoutFooter"  class="BorderLayoutFrame">
		Footer
	</div>
-->
	<div id="menus">
	</div>
	
	<div id="dialogs" class="DialogPanel" >
		<div class="DialogMask" > </div>
		<!-- Include -->
	</div>

</body>
</html>

